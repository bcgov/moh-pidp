<div class="box container" uiPidpInjectViewportCss>
  <app-breadcrumb [breadcrumbs]="breadcrumbsData"></app-breadcrumb>
  <div class="content">
    <section class="intro">
      <div class="content-header">
        <h1>Access the Halo - PAS EMR applications</h1>
        <p>
          Welcome to the OneHealthID - Halo - PAS EMR integration page. This
          page will help you set up your account and navigate to the Halo - PAS
          EMR after you have successfully logged in with your own credential. As
          a secondary option, you can also create a BCProvider credential to
          access the Halo - PAS EMR. We recommend using your own credential for
          a more seamless experience. This page will also guide you through the
          steps to set up your MFA if assistance is needed.
        </p>
      </div>
    </section>
    <section class="main">
      <div class="card main-stepper">
        <div class="stepper-title">Instructions</div>
        <mat-stepper
          orientation="vertical"
          #stepper
          [selectedIndex]="selectedIndex">
          <mat-step [state]="'number'" [completed]="false">
            <ng-template matStepLabel> Choose an account </ng-template>
            <div class="choose-account">
              <button
                mat-flat-button
                type="button"
                color="secondary"
                routerLink="/access/bc-provider-application"
                aria-labelledby="complete-bcprovider"
                [disabled]="bcProvider$ | async">
                <mat-icon class="left-icon">account_box</mat-icon>
                <span class="button-text">Create a BCProvider Credential</span>
                <mat-icon class="right-icon">keyboard_arrow_right</mat-icon>
              </button>
              <button
                mat-flat-button
                type="button"
                color="secondary"
                routerLink="/access/external-accounts"
                aria-labelledby="external-accounts">
                <mat-icon class="left-icon">build</mat-icon>
                <span class="button-text">Bring your own account</span>
                <mat-icon class="right-icon">keyboard_arrow_right</mat-icon>
              </button>
            </div>
            <div class="smaller-text">
              <em
                >Need help? Try this
                <a uiAnchor [attr.href]="bcProviderTutorial">video tutorial</a>
              </em>
            </div>
            <div class="stepper-buttons">
              <button mat-stroked-button matStepperNext>Next</button>
            </div>
          </mat-step>

          <mat-step [completed]="false">
            <ng-template matStepLabel>
              Multi-Factor Authentication (MFA) Set-Up Guide
            </ng-template>
            <p class="guide-information">
              If you need help setting up your Multi-Factor Authentication
              (MFA), please
              <a href="assets/documents/mfa.pdf" download>download this PDF</a>
            </p>

            <div class="stepper-buttons">
              <button mat-stroked-button matStepperPrevious>Back</button>
              <button mat-stroked-button matStepperNext>Next</button>
            </div>
          </mat-step>

          <mat-step [completed]="false">
            <ng-template matStepLabel> Navigate to Halo </ng-template>
            <div>
              <button
                mat-flat-button
                type="button"
                color="primary"
                aria-labelledby="navigate-to-halo"
                [disabled]="halo$ | async"
                (click)="navigateToPath()">
                Go to Halo - PAS EMR
              </button>
            </div>
            <div class="stepper-buttons">
              <button mat-stroked-button matStepperPrevious>Back</button>
              <button mat-stroked-button (click)="stepper.reset()">
                Reset
              </button>
            </div>
          </mat-step>
        </mat-stepper>
      </div>
      <div class="card main-image-container">
        <div class="main-image-text"><strong>HALO - PAS EMR</strong></div>
        <div class="main-image">
          <img
            class="img-checkup"
            ngSrc="/assets/images/halo.png"
            alt="halo there"
            priority
            fill />
        </div>
        <ng-container *ngIf="(halo$ | async)">
          <div class="pas-button-text">
            <i
              >You will need a BCProvider or your own credential before logging
              in.</i
            >
          </div>
        </ng-container>
      </div>
    </section>
  </div>
</div>
