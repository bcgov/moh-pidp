<ui-page [form]="formState.form" (submitted)="onSubmit()">
  <ui-page-header>{{ title }}</ui-page-header>

  <ng-container *ngIf="collegeCertifications.length === 0; else foundInPLR">
    <ui-page-section>
      <ui-page-section-subheader
        icon="assignment_ind"
        heading="College Licence Information">
        <ng-container uiPageSectionSubheaderDesc>
          Provide the following information to complete your Provider Identity
          Profile.
        </ng-container>
      </ui-page-section-subheader>
    </ui-page-section>

    <ng-container [formGroup]="formState.form">
      <ui-page-section>
        <ui-page-section-subheader heading="College Licence">
          <ng-container uiPageSectionSubheaderDesc>
            Provide details for your active college licence.
          </ng-container>
        </ui-page-section-subheader>

        <div class="row">
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-select
                placeholder="College Licence"
                formControlName="collegeCode">
                <mat-option
                  *ngFor="let college of colleges"
                  [value]="college.code">
                  {{ college.name }}
                </mat-option>
              </mat-select>
              <mat-error>Required</mat-error>
            </mat-form-field>
          </div>
          <div *ngIf="formState.collegeCode.value" class="col-12">
            <mat-form-field class="w-100">
              <input
                matInput
                placeholder="Licence Number"
                formControlName="licenceNumber" />
              <mat-error>Required</mat-error>
            </mat-form-field>
          </div>
        </div>
      </ui-page-section>
    </ng-container>
  </ng-container>

  <ng-template #foundInPLR>
    <div *ngFor="let collegeCertification of collegeCertifications">
      <strong>Identifier Type</strong>
      <p>{{ collegeCertification.identifierType ?? 'Not Available' }}</p>
      <br />
      <strong>College Id</strong>
      <p>{{ collegeCertification.collegeId ?? 'Not Available' }}</p>
      <br />
      <strong>Provider Role Type</strong>
      <p>{{ collegeCertification.providerRoleType ?? 'Not Available' }}</p>
      <br />
      <strong>Status Code</strong>
      <p>{{ collegeCertification.statusCode ?? 'Not Available' }}</p>
      <br />
      <strong>Status Start Date</strong>
      <p>{{ collegeCertification.statusStartDate ?? 'Not Available' }}</p>
      <br />
    </div>
  </ng-template>

  <ui-page-footer>
    <button
      mat-stroked-button
      uiPageFooterAction
      type="button"
      color="primary"
      (click)="onBack()">
      Back Home
    </button>
    <button
      *ngIf="collegeCertifications.length === 0"
      mat-flat-button
      uiPageFooterAction
      type="submit"
      color="primary">
      Save Information
    </button>
  </ui-page-footer>
</ui-page>
